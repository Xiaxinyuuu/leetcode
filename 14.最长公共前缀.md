

>ä½œè€… ï¼š ThinyuXia
>æ—¥æœŸ ï¼š2021-10-05



#### é¢˜ç›®

![](https://z3.ax1x.com/2021/10/05/4v1j8U.png)



#### é¢˜è§£1(æ¨ªå‘æ‰«ææ³•)

ä»¤LCP(S1,S2)ä¸ºå­—ç¬¦ä¸²S1å’ŒS2çš„æœ€é•¿å…¬å…±å‰ç¼€

åˆ™å¯ä»¥å¾—å‡ºnå­å­—ç¬¦ä¸²çš„æœ€é•¿å‰ç¼€ï¼š*LCP*(*S*1â€¦*Sn*)=*LCP*(*LCP*(*LCP*(*S*1,*S*2),*S*3),â€¦*Sn*)

ä»å·¦å‘å³æ¯”è¾ƒä¸¤ä¸ªç›¸é‚»çš„å­—ç¬¦ä¸²ï¼Œä¸æ–­æ›´æ–°æœ€é•¿å…¬å…±å‰ç¼€é•¿åº¦å³å¯

ğŸŒ°

![](https://z3.ax1x.com/2021/10/05/4v8W6g.md.png)



#### ä»£ç 

```java
class Solution {
    public String longestCommonPrefix(String[] strs) {
        if (strs.length == 0)
            return "";
        String ans = strs[0]; // å­˜å‚¨ç»“æœï¼Œé»˜è®¤ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºæœ€é•¿å…¬å…±å‰ç¼€
        for (int i = 1; i < strs.length; i++) {
            int minLen = Math.min(ans.length(), strs[i].length());
            int j = 0;
            for (; j < minLen; j++) {
                if (ans.charAt(j) != strs[i].charAt(j)) {
                    break;
                }
            }
            ans = ans.substring(0, j); //ä¸æ–­æ›´æ–°æœ€é•¿å…¬å…±å‰ç¼€
        }
        return ans;
    }
}
```



`æ—¶é—´å¤æ‚åº¦` ï¼šO(mn) mä¸ºå­—ç¬¦ä¸²åˆ—è¡¨é•¿åº¦ï¼Œnä¸ºå­—ç¬¦ä¸²å¹³å‡é•¿åº¦ 

`ç©ºé—´å¤æ‚åº¦` ï¼šO(1) 


#### é¢˜è§£2(çºµå‘æ‰«ææ³•)

åœ¨é¢˜è§£1ä¸­æœ‰ä¸€ä¸ªç¼ºé™·å°±æ˜¯åœ¨æ‰«æåˆ°æœ€é•¿å…¬å…±å‰ç¼€æ—¶éƒ½ä¼šå¤šéå†å­—ç¬¦mæ¬¡ï¼Œm = sum(æ¯ä¸ªä¸´æ—¶çš„ans - æœ€é•¿å…¬å…±å‰ç¼€çš„å­—ç¬¦é•¿åº¦)

çºµå‘æ‰«ææ³•çš„æ€è·¯å°±æ˜¯å°†å­—ç¬¦ä¸²æ•°ç»„ä¸­çš„å­—ç¬¦çºµå‘æ’åˆ—ï¼Œç„¶åå¼€å§‹éå†ç¬¬ä¸€è¡Œçš„å­—ç¬¦c = strs[0].charAt(i)

ç„¶åå†éå†ç¬¬äºŒåˆ°ç¬¬nè¡Œçš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­æ¯ä¸ªå­—ç¬¦ä¸²çš„ç›¸åº”ä½ç½®æ˜¯å¦ç­‰äº c å³å¯ï¼Œè¿™æ ·å°±ä¸ä¼šå¤šéå†å­—ç¬¦äº†

è¿™ç§åšæ³•ä¼˜äºç¬¬ä¸€ç§åšæ³•

![å®˜æ–¹å›¾ç‰‡](https://assets.leetcode-cn.com/solution-static/14/14_fig2.png)

#### ä»£ç 

```java
class Solution {
    public String longestCommonPrefix(String[] strs){
        if(strs == null || strs.length == 0) return "";
        for(int i = 0;i < strs[0].length();i ++){
            char c = strs[0].charAt(i); // å­˜å‚¨ç¬¬ä¸€è¡Œçš„æ¯ä¸ªå­—ç¬¦ä¾¿äºæ¯”è¾ƒ
            for(int j = 1;j < strs.length;j ++){
                //1. i == strs[j].length() iåˆ°è¾¾å½“å‰è¡Œæœ«å°¾å³è¯¥è¡Œçš„ç›¸åº”ä½ç½®æ²¡æœ‰å­—ç¬¦
                //2. strs[j].charAt(i) != c å½“å‰è¡Œå¯¹åº”ä½ç½®çš„å­—ç¬¦å’Œç¬¬ä¸€è¡Œçš„å­—ç¬¦ä¸æƒ³ç­‰
                //æ»¡è¶³ä»¥ä¸Šä¸¤ç§æƒ…å†µç›´æ¥è¿”å›ç»“æœå³å¯
                if(i == strs[j].length() || strs[j].charAt(i) != c)
                return strs[0].substring(0,i);
            }
        }
        return strs[0];
    }
}
```

`æ—¶é—´å¤æ‚åº¦` ï¼šO(mn) mæ˜¯æœ€é•¿å…¬å…±å‰ç¼€å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œnæ˜¯å­—ç¬¦ä¸²æ•°ç»„çš„é•¿åº¦ 

`ç©ºé—´å¤æ‚åº¦` ï¼šO(1)


#### é¢˜è§£3(é€’å½’åšæ³•)

ç”±äºLCPçš„è®¡ç®—æ»¡è¶³ç»“åˆå¾‹ï¼Œæ‰€ä»¥å­—ç¬¦ä¸²æ•°ç»„çš„æœ€é•¿å…¬å…±å‰ç¼€å°±ç”±å·¦åŠéƒ¨åˆ†çš„æœ€é•¿å…¬å…±å‰ç¼€`lcp1`ä¸å³åŠéƒ¨åˆ†çš„æœ€é•¿å…¬å…±å‰ç¼€`lcp2`ç¡®å®š

å…¬å¼ ï¼š LCP*(*S*1â€¦*S**n*)=*LCP*(*LCP*(*S*1â€¦*S**k*),*LCP*(*S**k*+1â€¦*S**n*))

æ‰€ä»¥åªéœ€å°†å­—ç¬¦ä¸²æ•°ç»„ä»ä¸­é—´åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸æ–­é€’å½’å¤„ç†å·¦å³ä¸¤éƒ¨åˆ†å³å¯

å›¾ç‰‡ğŸŒ°

![](https://assets.leetcode-cn.com/solution-static/14/14_fig3.png)

#### ä»£ç 

```java
class Solution{
    String[] strs;
    public String longestCommonPrefix(String[] strs){
        this.strs = strs; //å°†strså¤„ç†æˆå…¨å±€å˜é‡æ–¹ä¾¿è¿›è¡Œé€’å½’
        int n = strs.length;
        if(n == 0) return "";
        return get_lcp(0,n - 1);  //åˆå§‹åŒ–å·¦å³è¾¹ç•Œ0ï¼Œn - 1
    }

    public String get_lcp(int l,int r){
        if(l == r) return strs[l];
        int mid = (l + r) / 2;
        String lcp1 = get_lcp(l,mid);  //å·¦åŠéƒ¨åˆ†æœ€é•¿å…¬å…±å‰ç¼€
        String lcp2 = get_lcp(mid + 1,r); //å³åŠéƒ¨åˆ†æœ€é•¿å…¬å…±å‰ç¼€
        int minLen = Math.min(lcp1.length(),lcp2.length()); //å·¦å³éƒ¨åˆ†å¯èƒ½ç»„æˆçš„å…¬å…±å‰ç¼€çš„æœ€é•¿é•¿åº¦
        for(int i = 0;i < minLen;i ++){
            if(lcp1.charAt(i) != lcp2.charAt(i))
                return lcp1.substring(0,i); 
        }
        return lcp1.substring(0,minLen);
    }
}
```
 
